bundle: kubernetes
applications:
  alertmanager:
    charm: alertmanager-k8s
    channel: 2/edge
    resources:
      alertmanager-image: 100
    scale: 1
    trust: true
  ca:
    charm: self-signed-certificates
    channel: 1/stable
    scale: 1
  grafana:
    charm: grafana-k8s
    channel: 2/edge
    resources:
      grafana-image: 75
      litestream-image: 46
    scale: 1
    trust: true
  loki:
    charm: loki-k8s
    channel: 2/edge
    resources:
      loki-image: 101
      node-exporter-image: 4
    scale: 1
    trust: true
  traefik:
    charm: traefik-k8s
    resources:
      traefik-image: 162
    scale: 1
    trust: true
relations:
- - ca:certificates
  - loki:certificates
- - alertmanager:alerting
  - loki:alertmanager
- - alertmanager:certificates
  - ca:certificates
- - loki:ingress
  - traefik:ingress-per-unit
- - alertmanager:ingress
  - traefik:ingress
- - traefik:receive-ca-cert
  - ca:send-ca-cert
- - grafana:ingress
  - traefik:traefik-route
- - alertmanager:grafana-source
  - grafana:grafana-source
- - alertmanager:grafana-dashboard
  - grafana:grafana-dashboard
- - ca:certificates
  - grafana:certificates
- - grafana:grafana-dashboard
  - loki:grafana-dashboard
- - grafana:grafana-source
  - loki:grafana-source
